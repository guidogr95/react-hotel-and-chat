{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch'; //Components\n// import defaultBcg from '../images/room-1.jpeg'\n\nimport Banner from '../../components/Banner'; //Context\n\nimport { RoomContext, RoomProvider } from '../../context';\nimport StyledHero from '../../components/StyledHero';\nimport Loading from '../../components/Loading'; //SEO\n\nimport Head from 'next/head';\n\nclass room extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      slug: this.props.query.name,\n      room: this.props.room\n    };\n  }\n\n  render() {\n    if (!room) {\n      return __jsx(Loading, null);\n    }\n\n    const {\n      name,\n      description,\n      capacity,\n      size,\n      price,\n      extras,\n      breakfast,\n      pets,\n      images\n    } = this.state.room;\n    const roomimages = images.map(image => image.url);\n    const [mainImg, ...defaultImg] = roomimages;\n    return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, name), __jsx(\"meta\", {\n      name: \"title\",\n      content: name\n    }), __jsx(\"meta\", {\n      name: \"description\",\n      content: description\n    }), __jsx(\"meta\", {\n      property: \"og:description\",\n      content: description\n    }), __jsx(\"meta\", {\n      property: \"og:image\",\n      content: mainImg\n    }), __jsx(\"meta\", {\n      property: \"og:title\",\n      content: name\n    })), __jsx(StyledHero, {\n      img: mainImg\n    }, __jsx(Banner, {\n      title: `${name} room`\n    }, __jsx(Link, {\n      href: \"/rooms\"\n    }, __jsx(\"a\", {\n      className: \"btn-primary\"\n    }, \"back to rooms\")))), __jsx(\"section\", {\n      className: \"single-room\"\n    }, __jsx(\"div\", {\n      className: \"single-room-images\"\n    }, defaultImg.map((item, index) => {\n      return __jsx(\"img\", {\n        key: index,\n        src: item,\n        alt: name\n      });\n    })), __jsx(\"div\", {\n      className: \"single-room-info\"\n    }, __jsx(\"article\", {\n      className: \"description\"\n    }, __jsx(\"h3\", null, \"Details\"), __jsx(\"p\", null, description)), __jsx(\"article\", {\n      className: \"info\"\n    }, __jsx(\"h3\", null, \"Info\"), __jsx(\"h6\", null, \"price: $\", price), __jsx(\"h6\", null, \"size: $\", size, \" sqm\"), __jsx(\"h6\", null, \"max capacity: \", capacity, \" pax\"), __jsx(\"h6\", null, pets ? \"pets allows\" : \"no pets allowed\"), __jsx(\"h6\", null, breakfast && \"free breakfast included\")))), __jsx(\"section\", {\n      className: \"room-extras\"\n    }, __jsx(\"h6\", null, \"extras\"), __jsx(\"ul\", {\n      className: \"extras\"\n    }, extras.map((item, index) => {\n      return __jsx(\"li\", {\n        key: index\n      }, \"- \", item);\n    }))));\n  }\n\n}\n\n_defineProperty(room, \"getStaticProps\", async ({\n  query\n}) => {\n  const res = await fetch('https://graphql.datocms.com/', {\n    method: \"POST\",\n    body: JSON.stringify({\n      query: `{ allRooms {\n                    id\n                    name\n                    slug\n                    price\n                    roomtype\n                    size\n                    capacity\n                    breakfast\n                    pets\n                    featured\n                    description\n                    extras\n                    images {\n                      url\n                    }\n                  } }`\n    }),\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json',\n      'Authorization': 'Bearer f3341f2f85860e06446a5e86bfd392'\n    }\n  });\n  const data = await res.json();\n  const roomData = data.data.allRooms;\n  const room = roomData.find(room => room.slug === query.name);\n  return {\n    query,\n    room\n  };\n});\n\n_defineProperty(room, \"contextType\", RoomContext);\n\nexport default room;","map":null,"metadata":{},"sourceType":"module"}