{"ast":null,"code":"var _jsxFileName = \"/home/guido/Documents/GitHub/react-resort/pages/room/[name].js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport Link from 'next/link';\nimport { withRouter } from 'next/router'; //Components\n// import defaultBcg from '../images/room-1.jpeg'\n\nimport Banner from '../../components/Banner'; //Context\n\nimport { RoomContext, RoomProvider } from '../../context';\nimport StyledHero from '../../components/StyledHero';\nimport Loading from '../../components/Loading'; //SEO\n\nimport Head from 'next/head';\nimport axios from 'axios';\n\nclass room extends Component {\n  static async getInitialProps({\n    query\n  }) {\n    return {\n      query\n    };\n  }\n\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"formatData\", items => {\n      console.log('items are');\n      let tempItems = items.map(item => {\n        console.log('got here 1');\n        let id = item.id;\n        let images = item.images.map(image => image.url);\n\n        let room = _objectSpread({}, item, {\n          images,\n          id\n        });\n\n        return room;\n      });\n      return tempItems;\n    });\n\n    _defineProperty(this, \"getRoom\", async slug => {\n      console.log('getting rooms');\n\n      try {\n        const response = await axios.get('https://test-project-react.herokuapp.com/hotel-rooms');\n        let rooms = this.formatData(response.data);\n        let tempRooms = [...rooms];\n        const room = tempRooms.find(room => room.slug === slug);\n        console.log('gothere2');\n        return room;\n      } catch (error) {\n        console.log('not getting rooms');\n      }\n\n      return room;\n    });\n\n    console.log(this.props.router.query.name);\n    this.state = {\n      slug: this.props.router.query.name // defaultBcg\n\n    };\n  }\n\n  render() {\n    console.log('start render');\n    const room = this.getRoom(this.state.slug);\n    console.log('this iiis', room);\n\n    if (!room) {\n      console.log('this should be a room', room);\n      return __jsx(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      });\n    }\n\n    const {\n      name,\n      description,\n      capacity,\n      size,\n      price,\n      extras,\n      breakfast,\n      pets,\n      images\n    } = room;\n    console.log(images);\n    const [mainImg, ...defaultImg] = images;\n    return __jsx(React.Fragment, null, __jsx(Head, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, __jsx(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, name), __jsx(\"meta\", {\n      name: \"title\",\n      content: name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), __jsx(\"meta\", {\n      name: \"description\",\n      content: description,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), __jsx(\"meta\", {\n      property: \"og:description\",\n      content: description,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), __jsx(\"meta\", {\n      property: \"og:image\",\n      content: mainImg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), __jsx(\"meta\", {\n      property: \"og:title\",\n      content: name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    })), __jsx(StyledHero, {\n      img: mainImg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, __jsx(Banner, {\n      title: `${name} room`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, __jsx(Link, {\n      href: \"/rooms\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      className: \"btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"back to rooms\")))), __jsx(\"section\", {\n      className: \"single-room\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"single-room-images\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, defaultImg.map((item, index) => {\n      return __jsx(\"img\", {\n        key: index,\n        src: item,\n        alt: name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      });\n    })), __jsx(\"div\", {\n      className: \"single-room-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, __jsx(\"article\", {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, __jsx(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Details\"), __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, description)), __jsx(\"article\", {\n      className: \"info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, __jsx(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Info\"), __jsx(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"price: $\", price), __jsx(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"size: $\", size, \" sqm\"), __jsx(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"max capacity: \", capacity, \" pax\"), __jsx(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, pets ? \"pets allows\" : \"no pets allowed\"), __jsx(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, breakfast && \"free breakfast included\")))), __jsx(\"section\", {\n      className: \"room-extras\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, __jsx(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"extras\"), __jsx(\"ul\", {\n      className: \"extras\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, extras.map((item, index) => {\n      return __jsx(\"li\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"- \", item);\n    }))));\n  }\n\n}\n\n_defineProperty(room, \"contextType\", RoomContext);\n\nexport default withRouter(room);","map":{"version":3,"sources":["/home/guido/Documents/GitHub/react-resort/pages/room/[name].js"],"names":["React","Component","Link","withRouter","Banner","RoomContext","RoomProvider","StyledHero","Loading","Head","axios","room","getInitialProps","query","constructor","props","items","console","log","tempItems","map","item","id","images","image","url","slug","response","get","rooms","formatData","data","tempRooms","find","error","router","name","state","render","getRoom","description","capacity","size","price","extras","breakfast","pets","mainImg","defaultImg","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Link from 'next/link'\nimport { withRouter } from 'next/router'\n//Components\n// import defaultBcg from '../images/room-1.jpeg'\nimport Banner from '../../components/Banner'\n//Context\nimport { RoomContext, RoomProvider } from '../../context'\nimport StyledHero from '../../components/StyledHero'\nimport Loading from '../../components/Loading'\n//SEO\nimport Head from 'next/head';\nimport axios from 'axios'\n\nclass room extends Component {\n    \n    static async getInitialProps({query}) {\n        return {query}\n    }\n    constructor(props){\n        super(props)\n        console.log(this.props.router.query.name)\n        this.state={\n            slug: this.props.router.query.name,\n            // defaultBcg\n        }\n    }\n    static contextType = RoomContext;\n\n    formatData = (items) => {\n        console.log('items are')\n        let tempItems = items.map(item => {\n            console.log('got here 1')\n            let id = item.id;\n            let images = item.images.map(image => image.url);\n            let room = {...item,images,id};\n            return room;\n        });\n        return tempItems;\n    }\n\n    getRoom = async (slug) => {\n        console.log('getting rooms')\n        \n        try {\n        const response = await axios.get('https://test-project-react.herokuapp.com/hotel-rooms');\n        let rooms = this.formatData(response.data);\n        let tempRooms = [...rooms];\n        const room = tempRooms.find(room => room.slug === slug);\n        console.log('gothere2')\n        return room\n        } \n        catch(error) {console.log('not getting rooms')}\n        return room;\n    }\n        \n    render() {\n        console.log('start render')\n        const room = this.getRoom(this.state.slug)\n        console.log('this iiis',room)\n        if (!room) {\n            console.log('this should be a room',room)\n            return <Loading/>\n        }\n        const { name,description,capacity,size,price,extras,breakfast,pets,images } = room\n        console.log(images)\n        const [mainImg,...defaultImg] = images\n        return (\n            <>\n            <Head>\n                <title>{name}</title>\n                <meta name=\"title\" content={name}/>\n                <meta name=\"description\" content={description}/>\n                <meta property=\"og:description\" content={description}/>\n                <meta property=\"og:image\" content={mainImg}/>\n                <meta property=\"og:title\" content={name}/>\n            </Head>\n            <StyledHero img={mainImg}>\n                <Banner title={`${name} room`}>\n                    <Link href=\"/rooms\">\n                        <a  className=\"btn-primary\">back to rooms</a>\n                    </Link>\n                </Banner>\n            </StyledHero>\n            <section className=\"single-room\">\n                <div className=\"single-room-images\">\n                { defaultImg.map((item,index) => {\n                   return <img key={index} src={item} alt={name}/>\n                }) }\n                </div>\n                <div className=\"single-room-info\">\n                    <article className=\"description\">\n                        <h3>Details</h3>\n                        <p>{description}</p>\n                    </article>\n                    <article className=\"info\">\n                        <h3>Info</h3>\n                        <h6>price: ${price}</h6>\n                        <h6>size: ${size} sqm</h6>\n                        <h6>max capacity: {capacity} pax</h6>\n                        <h6>{pets?\"pets allows\":\"no pets allowed\"}</h6>\n                        <h6>{breakfast && \"free breakfast included\"}</h6>\n                    </article>\n                </div>\n            </section>\n            <section className=\"room-extras\">\n                <h6>extras</h6>\n                <ul className=\"extras\">\n                    {extras.map((item,index) => {\n                        return <li key={index}>- {item}</li>\n                    })}\n                </ul>\n            </section>\n            </>\n        )\n    }\n}\n\nexport default withRouter(room);"]},"metadata":{},"sourceType":"module"}