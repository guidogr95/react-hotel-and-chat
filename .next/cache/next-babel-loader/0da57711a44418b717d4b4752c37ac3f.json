{"ast":null,"code":"import _toArray from \"@babel/runtime-corejs2/helpers/esm/toArray\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Link from 'next/link'; //Components\n// import defaultBcg from '../images/room-1.jpeg'\n\nimport Hero from '../../components/Hero';\nimport Banner from '../../components/Banner'; //Context\n\nimport { RoomContext, Room } from '../../context';\nimport StyledHero from '../../components/StyledHero';\n\nvar SingleRoom = /*#__PURE__*/function (_Component) {\n  _inherits(SingleRoom, _Component);\n\n  _createClass(SingleRoom, null, [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(_ref) {\n      var query;\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              query = _ref.query;\n              return _context.abrupt(\"return\", {\n                query: query\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    }\n  }]);\n\n  function SingleRoom(props) {\n    var _this;\n\n    _classCallCheck(this, SingleRoom);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SingleRoom).call(this, props));\n    console.log(props.query.name);\n    _this.state = {\n      slug: _this.props.query.name // defaultBcg\n\n    };\n    return _this;\n  }\n\n  _createClass(SingleRoom, [{\n    key: \"render\",\n    // componentDidMount(){}\n    value: function render() {\n      var getRoom = this.context.getRoom;\n      var room = getRoom(this.state.slug);\n\n      if (!room) {\n        return __jsx(\"div\", {\n          className: \"error\"\n        }, __jsx(\"h3\", null, \"no such room could be found...\"), __jsx(Link, {\n          href: \"/rooms\"\n        }, __jsx(\"a\", {\n          className: \"btn-primary\"\n        }, \"back to rooms\")));\n      }\n\n      var name = room.name,\n          description = room.description,\n          capacity = room.capacity,\n          size = room.size,\n          price = room.price,\n          extras = room.extras,\n          breakfast = room.breakfast,\n          pets = room.pets,\n          images = room.images;\n\n      var _images = _toArray(images),\n          mainImg = _images[0],\n          defaultImg = _images.slice(1);\n\n      return __jsx(React.Fragment, null, __jsx(StyledHero, {\n        img: mainImg\n      }, __jsx(Banner, {\n        title: \"\".concat(name, \" room\")\n      }, __jsx(Link, {\n        href: \"/rooms\"\n      }, __jsx(\"a\", {\n        className: \"btn-primary\"\n      }, \"back to rooms\")))), __jsx(\"section\", {\n        className: \"single-room\"\n      }, __jsx(\"div\", {\n        className: \"single-room-images\"\n      }, defaultImg.map(function (item, index) {\n        return __jsx(\"img\", {\n          key: index,\n          src: item,\n          alt: name\n        });\n      })), __jsx(\"div\", {\n        className: \"single-room-info\"\n      }, __jsx(\"article\", {\n        className: \"description\"\n      }, __jsx(\"h3\", null, \"Details\"), __jsx(\"p\", null, description)), __jsx(\"article\", {\n        className: \"info\"\n      }, __jsx(\"h3\", null, \"Info\"), __jsx(\"h6\", null, \"price: $\", price), __jsx(\"h6\", null, \"size: $\", size, \" sqm\"), __jsx(\"h6\", null, \"max capacity: \", capacity, \" pax\"), __jsx(\"h6\", null, pets ? \"pets allows\" : \"no pets allowed\"), __jsx(\"h6\", null, breakfast && \"free breakfast included\")))), __jsx(\"section\", {\n        className: \"room-extras\"\n      }, __jsx(\"h6\", null, \"extras\"), __jsx(\"ul\", {\n        className: \"extras\"\n      }, extras.map(function (item, index) {\n        return __jsx(\"li\", {\n          key: index\n        }, \"- \", item);\n      }))));\n    }\n  }]);\n\n  return SingleRoom;\n}(Component);\n\n_defineProperty(SingleRoom, \"contextType\", RoomContext);\n\nexport { SingleRoom as default };","map":null,"metadata":{},"sourceType":"module"}