{"version":3,"file":"static/webpack/static/development/pages/_app.js.27da3b2238990991b3a7.hot-update.js","sources":["webpack:///./components/ChatComponent.js"],"sourcesContent":["import { Component } from 'react'\nimport UsernameForm from './UsernameForm'\nimport ChatScreen from './ChatScreen'\nimport ChatScreenDisplay from './ChatScreenDisplay'\nimport axios from 'axios'\nimport { RoomContext } from '../context';\nimport { MdChat } from \"react-icons/md\";\n\nexport default class ChatComponent extends Component {\n    constructor(props) {\n        super(props)\n        this.state= {\n            currentScreen: 'WhatIsYourUsernameScreen',\n            currentUsername: '',\n            userId: ''\n        }\n    }\n    static contextType = RoomContext;\n    handleSubmit = (username) => {\n        axios({\n            url: 'http://localhost:3001/users',\n            method: 'POST',\n            data: JSON.stringify({\n                username\n            }),\n            headers: { 'Content-Type': 'application/json' }\n        }).then(res => {\n            console.log(res.data.userId)\n            console.log('success')\n            this.setState({\n                currentUsername: username,\n                currentScreen: 'ChatScreen',\n                userId: res.data.userId\n            })\n        }).catch(err => {\n            console.log(err);  \n        })\n    }\n    \n    handleChat = () => {\n        if ( this.state.currentScreen === 'WhatIsYourUsernameScreen' ) {\n            return <UsernameForm onSubmit={this.handleSubmit}/>         \n        } else if ( this.state.currentScreen === 'ChatScreen' ) {\n            return <ChatScreen currentUsername={this.state.currentUsername} userId={this.state.userId} />\n        }\n    }\n    \n    render() {\n        if ( this.context.authenticated || this.context.authenticated === null ) {\n            return (<div></div>)\n        } else {\n            return (\n                // <div className=\"chat-component\">\n                //     {this.handleChat()}\n                // </div>\n                <div className=\"chat-component chat-icon\">\n                    <div className=\"chat-component-wrapper\">\n                        <ChatScreenDisplay  onSubmit={this.handleSubmit} currentScreen={this.state.currentScreen} />\n                        <div className=\"chat-icon-wrapper\">\n                            <MdChat />  \n                        </div>\n                    </div>\n                </div>\n            )\n        }\n    }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAUA;AACA;AACA;AACA;AACA;AADA;AAGA;AAAA;AAAA;AANA;AAQA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AA7BA;AA+BA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAnCA;AACA;AACA;AACA;AAHA;AAFA;AAOA;AACA;;;AA8BA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AARA;AAaA;AACA;;;;AAzDA;AACA;AADA;AACA;;;;;A","sourceRoot":""}